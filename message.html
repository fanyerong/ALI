<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">  
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    <title>消息通知</title>    
    <script src="js/rem.js"></script>
    <link rel="stylesheet" href="css/reset.css" />
     <link rel="stylesheet" href="css/commont.css" />     
     <link rel="stylesheet" href="css/message.css" />
    <script type="text/javascript" src="js/jquery.min.js"></script>    
  </head> 
  <style type="text/css">
    .message-right{background:#FFFFFF;margin:0px;padding-top:0.32rem;}
  	.del{width:3.2rem;height:2.6rem;position:absolute;right:-3.2rem;background:#c90303;
  	    color:#FFFFFF;font-size:0.48rem;line-height:2.6rem;text-align:center;
  	    top:0;
  	}
  	section{
  		border:none;height:2.24rem;width:100%; position:relative;clear:both;-webkit-transform: translateX(0px);
  	}
  </style>
  <script type="text/javascript">
  /*
   * 描述：html5苹果手机向左滑动删除特效
   */
  window.addEventListener('load', function() {
    var initX; //触摸位置
    var moveX; //滑动时的位置
    var X = 0; //移动距离
    var objX = 0; //目标对象位置
    window.addEventListener('touchstart', function(event) {
      event.preventDefault();
      var obj = event.target.parentNode;
      if (obj.className == "list-li") {
        initX = event.targetTouches[0].pageX;
        objX = (obj.style.WebkitTransform.replace(/translateX\(/g, "").replace(/px\)/g, "")) * 1;
      }
      if (objX == 0) {
        window.addEventListener('touchmove', function(event) {
          event.preventDefault();
          var obj = event.target.parentNode;
          if (obj.className == "list-li") {
            moveX = event.targetTouches[0].pageX;
            X = moveX - initX;
            if (X >= 0) {
              obj.style.WebkitTransform = "translateX(" + 0 + "rem)";
            } else if (X < 0) {
              var l = Math.abs(X);
              obj.style.WebkitTransform = "translateX(" + -l + "rem)";
              if (l > 80) {
                l = 80;
                obj.style.WebkitTransform = "translateX(" + -l + "rem)";
              }
            }
          }
        });
      } else if (objX < 0) {
        window.addEventListener('touchmove', function(event) {
          event.preventDefault();
          var obj = event.target.parentNode;
          if (obj.className == "list-li") {
            moveX = event.targetTouches[0].pageX;
            X = moveX - initX;
            if (X >= 0) {
              var r = -80 + Math.abs(X);
              obj.style.WebkitTransform = "translateX(" + r + "rem)";
              if (r > 0) {
                r = 0;
                obj.style.WebkitTransform = "translateX(" + r + "rem)";
              }
            } else { //向左滑动
              obj.style.WebkitTransform = "translateX(" + -3.2 + "rem)";
            }
          }
        });
      }

    })
    window.addEventListener('touchend', function(event) {
      event.preventDefault();
      var obj = event.target.parentNode;
      if (obj.className == "list-li") {
        objX = (obj.style.WebkitTransform.replace(/translateX\(/g, "").replace(/px\)/g, "")) * 1;
        if (objX > -40) {
          obj.style.WebkitTransform = "translateX(" + 0 + "rem)";
          objX = 0;
        } else {
          obj.style.WebkitTransform = "translateX(" + -3.2 + "rem)";
          objX = -3.2+'rem';
        }
      }
    })
  })
  </script>
  <body> 
  <div>
  	<div style="overflow: hidden;">
		  	<section class="list-li">
				        <div class="message-left"><img src="images/6.png" alt="" /></div>	        
				        <div class="message-right">
				            <h5><span class="message-name">全新版式更改提醒全新版式更改提醒全新版式更改提醒</span><span class="message-time">20160/90/2</span></h5>
				            <p>啦啦啦啦啦啦啦啊啦啦啦啦拉拉啦啦啦啦拉拉阿啊啦啦啦啦拉拉1323啦啦啦啦拉拉阿啊啦啦啦啦拉拉啦啦啦啦拉00004343阿拉拉拉啦啦啦啦啦啦啦啦465啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦</p>
				        </div>	
				        <div class="del">删除</div>
		    </section>
		    <section class="list-li">
				        <div class="message-left"><img src="images/6.png" alt="" /></div>	        
				        <div class="message-right">
				            <h5><span class="message-name">全新版式更改提醒全新版式更改提醒全新版式更改提醒</span><span class="message-time">20160/90/2</span></h5>
				            <p>啦啦啦啦啦啦啦啊啦啦啦啦拉拉啦啦啦啦拉拉阿啊啦啦啦啦拉拉1323啦啦啦啦拉拉阿啊啦啦啦啦拉拉啦啦啦啦拉00004343阿拉拉拉啦啦啦啦啦啦啦啦465啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦</p>
				        </div>	
				        <div class="del">删除</div>
		    </section>
    </div>
  </div>	  
   
  </body>
</html>